<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¿å…šãƒãƒƒãƒãƒ³ã‚°è¨ºæ–­ - 2025å‚è­°é™¢é¸æŒ™å‘ã‘</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ -->
    <div id="titleScreen" class="max-w-2xl mx-auto p-6 bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen flex items-center justify-center">
        <div class="text-center bg-white rounded-2xl p-8 shadow-lg fade-in">
            <svg class="w-20 h-20 mx-auto mb-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <h1 class="text-4xl font-bold text-gray-800 mb-2">æ”¿å…šãƒãƒƒãƒãƒ³ã‚°</h1>
            <h2 class="text-xl text-blue-600 mb-8 font-semibold">2025å‚è­°é™¢é¸æŒ™å‘ã‘</h2>
            <p class="text-gray-600 mb-8 text-lg">
                8ã¤ã®è³ªå•ã«ç­”ãˆã¦<br>
                ã‚ãªãŸã®è€ƒãˆã«è¿‘ã„æ”¿å…šã‚’è¦‹ã¤ã‘ã‚ˆã†
            </p>
            
            <div class="space-y-4">
                <button onclick="startQuiz()" class="w-full bg-blue-600 text-white px-8 py-4 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-lg font-semibold">
                    è¨ºæ–­ã‚’å§‹ã‚ã‚‹
                </button>
                
                <button onclick="showPartyExplanation()" class="w-full bg-gray-100 text-gray-700 px-8 py-4 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-lg font-semibold">
                    æ”¿å…šè§£èª¬ã‚’è¦‹ã‚‹
                </button>
            </div>
            
            <div class="mt-6 p-4 bg-yellow-50 rounded-lg text-sm text-gray-600">
                <p class="font-semibold mb-1">âš ï¸ æ³¨æ„</p>
                <p>ã“ã®è¨ºæ–­ã¯å‚è€ƒç¨‹åº¦ã«ã”åˆ©ç”¨ãã ã•ã„ã€‚å®Ÿéš›ã®æŠ•ç¥¨ã§ã¯å„æ”¿å…šã®æ”¿ç­–ã‚’ã‚ˆãèª¿ã¹ã¦åˆ¤æ–­ã™ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚</p>
            </div>
        </div>
    </div>

    <!-- æ”¿å…šè§£èª¬ç”»é¢ -->
    <div id="partyInfoScreen" class="hidden max-w-4xl mx-auto p-6 bg-white min-h-screen">
        <div class="text-center mb-8">
            <svg class="w-16 h-16 mx-auto mb-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">æ”¿å…šè§£èª¬</h1>
            <p class="text-gray-600">ä¸»è¦æ”¿å…šã®ç‰¹å¾´ã¨å…šé¦–</p>
        </div>

        <div id="partyInfoContent" class="space-y-6 mb-8">
            <!-- æ”¿å…šæƒ…å ±ãŒã“ã“ã«å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>

        <div class="text-center">
            <button onclick="backToTitle()" class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 mr-4">
                ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹
            </button>
            <button onclick="startQuiz()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200">
                è¨ºæ–­ã‚’å§‹ã‚ã‚‹
            </button>
        </div>
    </div>

    <!-- è³ªå•ç”»é¢ -->
    <div id="questionScreen" class="hidden max-w-2xl mx-auto p-6 bg-white min-h-screen">
        <div class="text-center mb-8">
            <svg class="w-16 h-16 mx-auto mb-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">æ”¿å…šãƒãƒƒãƒãƒ³ã‚°</h1>
            <p class="text-gray-600">ã‚ãªãŸã®è€ƒãˆã«è¿‘ã„æ”¿å…šã‚’è¦‹ã¤ã‘ã¦ã¿ã‚ˆã†</p>
        </div>

        <div class="mb-6">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm text-gray-600" id="questionCounter">è³ªå• 1 / 8</span>
                <span class="text-sm text-gray-600" id="progressPercent">13%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
                <div id="progressBar" class="bg-blue-600 h-2 rounded-full progress-bar" style="width: 13%"></div>
            </div>
        </div>

        <div class="bg-white border rounded-lg p-6 shadow-sm mb-6 fade-in" id="questionCard">
            <!-- è³ªå•å†…å®¹ãŒã“ã“ã«å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>

        <div class="text-center text-sm text-gray-500">
            è³ªå•ã«ç­”ãˆã‚‹ã¨ã€ã‚ãªãŸã®è€ƒãˆã«è¿‘ã„æ”¿å…šãŒã‚ã‹ã‚Šã¾ã™
        </div>
    </div>

    <!-- çµæœç”»é¢ -->
    <div id="resultsScreen" class="hidden max-w-4xl mx-auto p-6 bg-white min-h-screen">
        <div class="text-center mb-8">
            <svg class="w-16 h-16 mx-auto mb-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">ã‚ãªãŸã®çµæœ</h1>
            <p class="text-gray-600">ã‚ãªãŸã®è€ƒãˆã«è¿‘ã„æ”¿å…šã¯...</p>
        </div>

        <div id="resultsContent" class="space-y-4 mb-8">
            <!-- çµæœãŒã“ã“ã«å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>

        <div class="text-center">
            <button onclick="resetQuiz()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center mx-auto mr-4">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
                ã‚‚ã†ä¸€åº¦ã‚„ã£ã¦ã¿ã‚‹
            </button>
            <button onclick="backToTitle()" class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 mt-2">
                ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹
            </button>
        </div>

        <div class="mt-8 p-4 bg-gray-50 rounded-lg text-sm text-gray-600">
            <p class="font-semibold mb-2">ğŸ“ å¤§åˆ‡ãªãŠçŸ¥ã‚‰ã›</p>
            <p>ã“ã®çµæœã¯å‚è€ƒç¨‹åº¦ã«è¦‹ã¦ãã ã•ã„ã€‚å®Ÿéš›ã«æŠ•ç¥¨ã™ã‚‹æ™‚ã¯ã€å„æ”¿å…šãŒã©ã‚“ãªã“ã¨ã‚’ç´„æŸã—ã¦ã„ã‚‹ã‹ã‚’ã‚ˆãèª¿ã¹ã¦æ±ºã‚ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚</p>
        </div>
    </div>

    <script>
        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹
        let currentQuestion = 0;
        let answers = {};
        
        // è³ªå•ãƒ‡ãƒ¼ã‚¿
        const questions = [
            {
                id: 'economy',
                question: 'ãŠé‡‘ã®ä½¿ã„é“ã«ã¤ã„ã¦',
                text: 'å›½ãŒã‚‚ã£ã¨ç©æ¥µçš„ã«çµŒæ¸ˆã«é–¢ã‚ã£ãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'ä¸æ³ã®æ™‚ã¯å›½ãŒã™ãã«æ”¯æ´ç­–ã‚’å‡ºã—ã€å¤±æ¥­ç‡ãŒä½ãä¿ãŸã‚Œã‚‹ç¤¾ä¼š',
                    'å¤§ä¼æ¥­ã¨ä¸­å°ä¼æ¥­ã®å·®ãŒå°ã•ãã€åœ°æ–¹ã§ã‚‚å®‰å®šã—ãŸé›‡ç”¨ãŒã‚ã‚‹ç¤¾ä¼š',
                    'é‡è¦ãªæŠ€è¡“ã‚„ç”£æ¥­ãŒæµ·å¤–ã«æµå‡ºã›ãšã€å›½å†…ã§ç™ºå±•ã—ç¶šã‘ã‚‹ç¤¾ä¼š'
                ],
                futureNo: [
                    'å¸‚å ´ãŒè‡ªç”±ã«å‹•ãã€ç«¶äº‰ã«ã‚ˆã£ã¦é©æ–°çš„ãªå•†å“ã‚„ã‚µãƒ¼ãƒ“ã‚¹ãŒç”Ÿã¾ã‚Œã‚‹ç¤¾ä¼š',
                    'ç¨è² æ‹…ãŒè»½ãã€å€‹äººã‚„ä¼æ¥­ãŒè‡ªç”±ã«ãŠé‡‘ã‚’ä½¿ãˆã‚‹ç¤¾ä¼š',
                    'å°ã•ãªæ”¿åºœã§ã€æ°‘é–“ã®æ´»åŠ›ã«ã‚ˆã£ã¦çµŒæ¸ˆãŒæˆé•·ã™ã‚‹ç¤¾ä¼š'
                ]
            },
            {
                id: 'social_security',
                question: 'åŒ»ç™‚ã‚„å¹´é‡‘ã«ã¤ã„ã¦',
                text: 'åŒ»ç™‚è²»ã‚„å¹´é‡‘ã‚’å……å®Ÿã•ã›ã‚‹ãŸã‚ã«ç¨é‡‘ãŒä¸ŠãŒã£ã¦ã‚‚ã„ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'èª°ã‚‚ãŒç—…æ°—ã«ãªã£ã¦ã‚‚çµŒæ¸ˆçš„ãªå¿ƒé…ãªãæ²»ç™‚ã‚’å—ã‘ã‚‰ã‚Œã‚‹ç¤¾ä¼š',
                    'é«˜é½¢è€…ãŒå®‰å¿ƒã—ã¦æš®ã‚‰ã›ã€ä»‹è­·ã‚µãƒ¼ãƒ“ã‚¹ãŒå……å®Ÿã—ã¦ã„ã‚‹ç¤¾ä¼š',
                    'è‹¥ã„ä¸–ä»£ã‚‚å°†æ¥ã¸ã®ä¸å®‰ãªãã€å®‰å®šã—ãŸè€å¾Œã‚’æœŸå¾…ã§ãã‚‹ç¤¾ä¼š'
                ],
                futureNo: [
                    'åƒãä¸–ä»£ã®æ‰‹å–ã‚ŠãŒå¤šãã€è‡ªåˆ†ã§è€å¾Œè³‡é‡‘ã‚’æº–å‚™ã™ã‚‹ç¤¾ä¼š',
                    'æ°‘é–“ã®ä¿é™ºã‚„è²¯è“„ãŒç™ºé”ã—ã€å¤šæ§˜ãªè€å¾Œãƒ—ãƒ©ãƒ³ã‚’é¸ã¹ã‚‹ç¤¾ä¼š',
                    'ç¨è² æ‹…ãŒè»½ãã€çµŒæ¸ˆæˆé•·ã«ã‚ˆã£ã¦ã¿ã‚“ãªã®åå…¥ãŒå¢—ãˆã‚‹ç¤¾ä¼š'
                ]
            },
            {
                id: 'constitution',
                question: 'æ†²æ³•ã«ã¤ã„ã¦',
                text: 'ä»Šã®æ†²æ³•ã‚’å¤‰ãˆãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'æ™‚ä»£ã®å¤‰åŒ–ã«åˆã‚ã›ã¦ã€æ–°ã—ã„æ¨©åˆ©ã‚„åˆ¶åº¦ãŒæ†²æ³•ã«æ˜è¨˜ã•ã‚Œã‚‹ç¤¾ä¼š',
                    'ç½å®³å¯¾å¿œã‚„ç’°å¢ƒä¿è­·ãªã©ã€ç¾ä»£ã®èª²é¡Œã«å¯¾å¿œã§ãã‚‹æ³•çš„åŸºç›¤ãŒã‚ã‚‹ç¤¾ä¼š',
                    'å›½æ°‘ã®æ„è¦‹ãŒåæ˜ ã•ã‚ŒãŸã€ã‚ˆã‚Šæ°‘ä¸»çš„ãªæ†²æ³•ã‚’æŒã¤ç¤¾ä¼š'
                ],
                futureNo: [
                    'æˆ¦å¾Œ70å¹´ä»¥ä¸Šå®ˆã‚Šç¶šã‘ãŸå¹³å’Œæ†²æ³•ã®ç†å¿µãŒç¶™ç¶šã•ã‚Œã‚‹ç¤¾ä¼š',
                    'æ”¿æ²»çš„ãªæ··ä¹±ãªãã€å®‰å®šã—ãŸæ³•åˆ¶åº¦ã®ã‚‚ã¨ã§æš®ã‚‰ã›ã‚‹ç¤¾ä¼š',
                    'æ†²æ³•æ”¹æ­£ã«ã‚ˆã‚‹æ¨©åŠ›ã®é›†ä¸­ã‚’é¿ã‘ã€æ°‘ä¸»ä¸»ç¾©ãŒå®ˆã‚‰ã‚Œã‚‹ç¤¾ä¼š'
                ]
            },
            {
                id: 'defense',
                question: 'å›½ã®å®ˆã‚Šã«ã¤ã„ã¦',
                text: 'è‡ªè¡›éšŠã‚„é˜²è¡›ã«ã‚‚ã£ã¨ãŠé‡‘ã‚’ã‹ã‘ãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'å¤–å›½ã‹ã‚‰ã®è„…å¨ã«å¯¾ã—ã¦ã€ã—ã£ã‹ã‚Šã¨å›½ã‚’å®ˆã‚Œã‚‹èƒ½åŠ›ãŒã‚ã‚‹ç¤¾ä¼š',
                    'ç½å®³æ™‚ã«è¿…é€Ÿã§å¤§è¦æ¨¡ãªæ•‘åŠ©æ´»å‹•ãŒã§ãã‚‹ã€é ¼ã‚Šã«ãªã‚‹è‡ªè¡›éšŠãŒã‚ã‚‹ç¤¾ä¼š',
                    'åŒç›Ÿå›½ã¨ã®ä¿¡é ¼é–¢ä¿‚ãŒæ·±ãã€å›½éš›çš„ãªç™ºè¨€åŠ›ãŒã‚ã‚‹ç¤¾ä¼š'
                ],
                futureNo: [
                    'æ•™è‚²ã‚„åŒ»ç™‚ã€ç¤¾ä¼šä¿éšœã«ã‚ˆã‚Šå¤šãã®äºˆç®—ãŒä½¿ã‚ã‚Œã‚‹ç¤¾ä¼š',
                    'è»äº‹çš„ç·Šå¼µãŒé«˜ã¾ã‚‰ãšã€è¿‘éš£å›½ã¨ã®å¹³å’Œçš„é–¢ä¿‚ã‚’ç¶­æŒã™ã‚‹ç¤¾ä¼š',
                    'æ­¦åŠ›ã§ã¯ãªãå¤–äº¤ã«ã‚ˆã‚‹å•é¡Œè§£æ±ºã‚’é‡è¦–ã™ã‚‹ã€å¹³å’Œãªç¤¾ä¼š'
                ]
            },
            {
                id: 'environment',
                question: 'ç’°å¢ƒã¨çµŒæ¸ˆã«ã¤ã„ã¦',
                text: 'çµŒæ¸ˆã®ç™ºå±•ã‚ˆã‚Šã‚‚ç’°å¢ƒã‚’å®ˆã‚‹ã“ã¨ã®æ–¹ãŒå¤§åˆ‡ã ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒä¸»æµã¨ãªã‚Šã€ç¾ã—ã„è‡ªç„¶ãŒä¿ãŸã‚Œã‚‹ç¤¾ä¼š',
                    'å­ã©ã‚‚ãŸã¡ãŒæ¸…æ½”ãªç©ºæ°—ã¨æ°´ã®ã‚ã‚‹ç’°å¢ƒã§æˆé•·ã§ãã‚‹ç¤¾ä¼š',
                    'ç’°å¢ƒæŠ€è¡“ãŒç™ºé”ã—ã€æŒç¶šå¯èƒ½ãªæš®ã‚‰ã—ãŒå½“ãŸã‚Šå‰ã«ãªã£ãŸç¤¾ä¼š'
                ],
                futureNo: [
                    'çµŒæ¸ˆæˆé•·ãŒå„ªå…ˆã•ã‚Œã€é›‡ç”¨æ©Ÿä¼šãŒè±Šå¯Œã§æ‰€å¾—æ°´æº–ãŒé«˜ã„ç¤¾ä¼š',
                    'æŠ€è¡“é©æ–°ã«ã‚ˆã‚Šç’°å¢ƒè² è·ã‚’æŠ‘ãˆãªãŒã‚‰ã€ä¾¿åˆ©ã§è±Šã‹ãªç”Ÿæ´»ãŒã§ãã‚‹ç¤¾ä¼š',
                    'ä¼æ¥­ã®è‡ªç”±ãªæ´»å‹•ã«ã‚ˆã£ã¦ã€æ–°ã—ã„è£½å“ã‚„ã‚µãƒ¼ãƒ“ã‚¹ãŒæ¬¡ã€…ç”Ÿã¾ã‚Œã‚‹ç¤¾ä¼š'
                ]
            },
            {
                id: 'immigration',
                question: 'å¤–å›½ã®äººã«ã¤ã„ã¦',
                text: 'å¤–å›½ã‹ã‚‰åƒãã«æ¥ã‚‹äººã‚’ã‚‚ã£ã¨å—ã‘å…¥ã‚ŒãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'åŠ´åƒåŠ›ä¸è¶³ãŒè§£æ¶ˆã•ã‚Œã€ä»‹è­·ã‚„è¾²æ¥­ãªã©ã®ç¾å ´ã«æ´»æ°—ãŒæˆ»ã‚‹ç¤¾ä¼š',
                    'å¤šæ§˜ãªæ–‡åŒ–ãŒæ··ã˜ã‚Šåˆã„ã€å›½éš›çš„ã§è±Šã‹ãªæ–‡åŒ–ã‚’æŒã¤ç¤¾ä¼š',
                    'çµŒæ¸ˆãŒæ´»æ€§åŒ–ã—ã€ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚„èµ·æ¥­ãŒç››ã‚“ã«ãªã‚‹ç¤¾ä¼š'
                ],
                futureNo: [
                    'æ—¥æœ¬äººã®é›‡ç”¨ãŒå®ˆã‚‰ã‚Œã€è³ƒé‡‘æ°´æº–ãŒç¶­æŒã•ã‚Œã‚‹ç¤¾ä¼š',
                    'æ—¥æœ¬ã®ä¼çµ±çš„ãªæ–‡åŒ–ã‚„ä¾¡å€¤è¦³ãŒå¤§åˆ‡ã«ä¿ãŸã‚Œã‚‹ç¤¾ä¼š',
                    'ç¤¾ä¼šä¿éšœåˆ¶åº¦ã¸ã®è² æ‹…ãŒé©æ­£ã«ä¿ãŸã‚Œã€æŒç¶šå¯èƒ½ãªåˆ¶åº¦ãŒã‚ã‚‹ç¤¾ä¼š'
                ]
            },
            {
                id: 'nuclear',
                question: 'åŸå­åŠ›ç™ºé›»ã«ã¤ã„ã¦',
                text: 'åŸå­åŠ›ç™ºé›»ã‚’å°‘ã—ãšã¤ã‚„ã‚ã¦ã„ã£ãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'åŸç™ºäº‹æ•…ã®å¿ƒé…ãŒãªãã€å®‰å…¨ã§å®‰å¿ƒãªæš®ã‚‰ã—ãŒã§ãã‚‹ç¤¾ä¼š',
                    'å¤ªé™½å…‰ã‚„é¢¨åŠ›ãªã©ã€ã‚¯ãƒªãƒ¼ãƒ³ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒä¸»åŠ›ã¨ãªã£ãŸç¤¾ä¼š',
                    'æ”¾å°„æ€§å»ƒæ£„ç‰©ã®å‡¦ç†å•é¡ŒãŒè§£æ±ºã—ã€ç’°å¢ƒã¸ã®è² æ‹…ãŒè»½æ¸›ã•ã‚ŒãŸç¤¾ä¼š'
                ],
                futureNo: [
                    'å®‰å®šã—ãŸé›»åŠ›ä¾›çµ¦ã«ã‚ˆã‚Šã€ç”£æ¥­ãŒç™ºé”ã—é›‡ç”¨ãŒç¢ºä¿ã•ã‚Œã‚‹ç¤¾ä¼š',
                    'é›»æ°—æ–™é‡‘ãŒå®‰ãã€å®¶è¨ˆã®è² æ‹…ãŒè»½ã„ç¤¾ä¼š',
                    'åŸå­åŠ›æŠ€è¡“ã‚’æ´»ç”¨ã—ã¦CO2æ’å‡ºé‡ã‚’æŠ‘ãˆã€æ¸©æš–åŒ–å¯¾ç­–ãŒã§ãã‚‹ç¤¾ä¼š'
                ]
            },
            {
                id: 'lgbtq',
                question: 'å¤šæ§˜ãªå®¶æ—ã«ã¤ã„ã¦',
                text: 'ç”·æ€§åŒå£«ã‚„å¥³æ€§åŒå£«ã®çµå©šã‚‚æ³•å¾‹ã§èªã‚ãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ',
                options: [
                    { value: 5, text: 'ãã†æ€ã†' },
                    { value: 4, text: 'ã¾ã‚ãã†æ€ã†' },
                    { value: 3, text: 'ã©ã¡ã‚‰ã§ã‚‚ãªã„' },
                    { value: 2, text: 'ã‚ã¾ã‚Šæ€ã‚ãªã„' },
                    { value: 1, text: 'ãã†æ€ã‚ãªã„' }
                ],
                futureYes: [
                    'ã™ã¹ã¦ã®äººãŒæ„›ã™ã‚‹äººã¨å¹³ç­‰ã«å®¶æ—ã‚’ç¯‰ã‘ã‚‹ã€å·®åˆ¥ã®ãªã„ç¤¾ä¼š',
                    'LGBTQ+ã®äººãŸã¡ãŒéš ã‚Œã‚‹ã“ã¨ãªãã€è‡ªåˆ†ã‚‰ã—ãç”Ÿãã‚‰ã‚Œã‚‹ç¤¾ä¼š',
                    'å¤šæ§˜æ€§ã‚’èªã‚åˆã„ã€ãŠäº’ã„ã‚’å°Šé‡ã™ã‚‹å¿ƒè±Šã‹ãªç¤¾ä¼š'
                ],
                futureNo: [
                    'ä¼çµ±çš„ãªå®¶æ—è¦³ã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰ã€å®‰å®šã—ãŸç¤¾ä¼šåˆ¶åº¦ãŒç¶­æŒã•ã‚Œã‚‹ç¤¾ä¼š',
                    'æ€¥æ¿€ãªåˆ¶åº¦å¤‰æ›´ã«ã‚ˆã‚‹æ··ä¹±ãŒãªãã€æ®µéšçš„ã«ç†è§£ãŒæ·±ã¾ã‚‹ç¤¾ä¼š',
                    'å®—æ•™çš„ãƒ»æ–‡åŒ–çš„ä¾¡å€¤è¦³ã‚’å°Šé‡ã—ãªãŒã‚‰ã€å…±å­˜ã§ãã‚‹ç¤¾ä¼š'
                ]
            }
        ];

        // æ”¿å…šãƒ‡ãƒ¼ã‚¿
        const parties = {
            'è‡ªç”±æ°‘ä¸»å…š': {
                name: 'è‡ªç”±æ°‘ä¸»å…š',
                leader: 'çŸ³ç ´èŒ‚',
                color: 'bg-red-500',
                positions: {
                    economy: 3,
                    social_security: 3,
                    constitution: 4,
                    defense: 4,
                    environment: 2,
                    immigration: 3,
                    nuclear: 2,
                    lgbtq: 2
                },
                description: 'æ—¥æœ¬ã§ä¸€ç•ªå¤ãã¦å¤§ããªæ”¿å…šã€‚çµŒæ¸ˆã‚’ç™ºå±•ã•ã›ã¦å›½ã‚’å¼·ãã—ãŸã„'
            },
            'å…¬æ˜å…š': {
                name: 'å…¬æ˜å…š',
                leader: 'æ–‰è—¤é‰„å¤«',
                color: 'bg-yellow-500',
                positions: {
                    economy: 3,
                    social_security: 4,
                    constitution: 2,
                    defense: 3,
                    environment: 3,
                    immigration: 3,
                    nuclear: 3,
                    lgbtq: 3
                },
                description: 'å¹³å’Œã¨ç”Ÿæ´»ã‚’å®ˆã‚ŠãŸã„ã€‚è‡ªæ°‘å…šã¨ä¸€ç·’ã«æ”¿æ²»ã‚’ã—ã¦ã„ã‚‹'
            },
            'ç«‹æ†²æ°‘ä¸»å…š': {
                name: 'ç«‹æ†²æ°‘ä¸»å…š',
                leader: 'é‡ç”°ä½³å½¦',
                color: 'bg-blue-500',
                positions: {
                    economy: 4,
                    social_security: 4,
                    constitution: 2,
                    defense: 2,
                    environment: 4,
                    immigration: 4,
                    nuclear: 4,
                    lgbtq: 4
                },
                description: 'æ™®é€šã®äººã®ç”Ÿæ´»ã‚’ã‚‚ã£ã¨è‰¯ãã—ãŸã„ã€‚ç’°å¢ƒã‚„å¤šæ§˜æ€§ã‚’å¤§åˆ‡ã«ã™ã‚‹'
            },
            'æ—¥æœ¬å…±ç”£å…š': {
                name: 'æ—¥æœ¬å…±ç”£å…š',
                leader: 'ç”°æ‘æ™ºå­',
                color: 'bg-red-700',
                positions: {
                    economy: 5,
                    social_security: 5,
                    constitution: 1,
                    defense: 1,
                    environment: 5,
                    immigration: 4,
                    nuclear: 5,
                    lgbtq: 5
                },
                description: 'æˆ¦äº‰åå¯¾ã€‚ãŠé‡‘æŒã¡ã¨æ™®é€šã®äººã®æ ¼å·®ã‚’ãªãã—ãŸã„'
            },
            'æ—¥æœ¬ç¶­æ–°ã®ä¼š': {
                name: 'æ—¥æœ¬ç¶­æ–°ã®ä¼š',
                leader: 'å‰æ‘æ´‹æ–‡',
                color: 'bg-orange-500',
                positions: {
                    economy: 2,
                    social_security: 2,
                    constitution: 4,
                    defense: 4,
                    environment: 3,
                    immigration: 3,
                    nuclear: 3,
                    lgbtq: 3
                },
                description: 'å¤ã„ã‚„ã‚Šæ–¹ã‚’å¤‰ãˆã¦æ–°ã—ã„æ—¥æœ¬ã«ã—ãŸã„ã€‚å¤§é˜ªã‹ã‚‰å§‹ã¾ã£ãŸ'
            },
            'ã‚Œã„ã‚æ–°é¸çµ„': {
                name: 'ã‚Œã„ã‚æ–°é¸çµ„',
                leader: 'å±±æœ¬å¤ªéƒ',
                color: 'bg-pink-500',
                positions: {
                    economy: 5,
                    social_security: 5,
                    constitution: 2,
                    defense: 1,
                    environment: 4,
                    immigration: 4,
                    nuclear: 5,
                    lgbtq: 5
                },
                description: 'å›°ã£ã¦ã„ã‚‹äººã‚’åŠ©ã‘ãŸã„ã€‚ãŠé‡‘ã®ä½¿ã„é“ã‚’å¤‰ãˆãŸã„'
            },
            'å›½æ°‘æ°‘ä¸»å…š': {
                name: 'å›½æ°‘æ°‘ä¸»å…š',
                leader: 'ç‰æœ¨é›„ä¸€éƒ',
                color: 'bg-green-500',
                positions: {
                    economy: 3,
                    social_security: 4,
                    constitution: 3,
                    defense: 3,
                    environment: 3,
                    immigration: 3,
                    nuclear: 2,
                    lgbtq: 4
                },
                description: 'åƒãäººã‚’ç¬¬ä¸€ã«è€ƒãˆã‚‹ã€‚ç¾å®Ÿçš„ãªæ”¿æ²»ã‚’ã—ãŸã„'
            },
            'å‚æ”¿å…š': {
                name: 'å‚æ”¿å…š',
                leader: 'ç¥è°·å®—å¹£',
                color: 'bg-purple-500',
                positions: {
                    economy: 2,
                    social_security: 3,
                    constitution: 4,
                    defense: 4,
                    environment: 2,
                    immigration: 2,
                    nuclear: 2,
                    lgbtq: 2
                },
                description: 'æ—¥æœ¬ã®ä¼çµ±ã‚„æ–‡åŒ–ã‚’å¤§åˆ‡ã«ã—ãŸã„ã€‚æ–°ã—ãã§ããŸæ”¿å…š'
            }
        };

        // ç”»é¢åˆ‡ã‚Šæ›¿ãˆé–¢æ•°
        function showScreen(screenId) {
            const screens = ['titleScreen', 'partyInfoScreen', 'questionScreen', 'resultsScreen'];
            screens.forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(screenId).classList.remove('hidden');
        }

        function startQuiz() {
            showScreen('questionScreen');
            displayQuestion();
        }

        function showPartyExplanation() {
            showScreen('partyInfoScreen');
            generatePartyInfo();
        }

        function backToTitle() {
            showScreen('titleScreen');
        }

        function resetQuiz() {
            currentQuestion = 0;
            answers = {};
            showScreen('titleScreen');
        }

        // æ”¿å…šè§£èª¬ç”Ÿæˆ
        function generatePartyInfo() {
            const content = document.getElementById('partyInfoContent');
            content.innerHTML = '';
            
            Object.entries(parties).forEach(([partyName, party]) => {
                const partyDiv = document.createElement('div');
                partyDiv.className = 'bg-white border rounded-lg p-6 shadow-sm fade-in';
                
                partyDiv.innerHTML = `
                    <div class="flex items-center mb-4">
                        <div class="w-6 h-6 rounded-full ${party.color} mr-4"></div>
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800">${party.name}</h3>
                            <p class="text-lg text-gray-600">å…šé¦–ï¼š${party.leader}</p>
                        </div>
                    </div>
                    
                    <p class="text-gray-700 text-lg mb-4">${party.description}</p>
                    
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-3 text-sm">
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-semibold text-gray-700">çµŒæ¸ˆ</div>
                            <div class="text-gray-600">
                                ${party.positions.economy >= 4 ? 'å›½ãŒç©æ¥µçš„ã«é–¢ä¸' : 
                                  party.positions.economy <= 2 ? 'æ°‘é–“ä¸­å¿ƒãƒ»è‡ªç”±å¸‚å ´' : 'ä¸­é–“çš„'}
                            </div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-semibold text-gray-700">ç¤¾ä¼šä¿éšœ</div>
                            <div class="text-gray-600">
                                ${party.positions.social_security >= 4 ? 'å……å®Ÿã•ã›ãŸã„' : 
                                  party.positions.social_security <= 2 ? 'åŠ¹ç‡åŒ–é‡è¦–' : 'ç¾çŠ¶ç¶­æŒ'}
                            </div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-semibold text-gray-700">æ†²æ³•</div>
                            <div class="text-gray-600">
                                ${party.positions.constitution >= 4 ? 'å¤‰ãˆãŸã„' : 
                                  party.positions.constitution <= 2 ? 'å¤‰ãˆãŸããªã„' : 'æ…é‡æ´¾'}
                            </div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded">
                            <div class="font-semibold text-gray-700">é˜²è¡›</div>
                            <div class="text-gray-600">
                                ${party.positions.defense >= 4 ? 'å¼·åŒ–ã—ãŸã„' : 
                                  party.positions.defense <= 2 ? 'å¹³å’Œé‡è¦–' : 'ç¾çŠ¶ç¶­æŒ'}
                            </div>
                        </div>
                    </div>
                `;
                
                content.appendChild(partyDiv);
            });
        }

        // è³ªå•è¡¨ç¤º
        function displayQuestion() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            
            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            document.getElementById('questionCounter').textContent = `è³ªå• ${currentQuestion + 1} / ${questions.length}`;
            document.getElementById('progressPercent').textContent = `${Math.round(progress)}%`;
            document.getElementById('progressBar').style.width = `${progress}%`;
            
            // è³ªå•ã‚«ãƒ¼ãƒ‰æ›´æ–°
            const questionCard = document.getElementById('questionCard');
            questionCard.innerHTML = `
                <div class="mb-4">
                    <h2 class="text-lg font-semibold text-blue-600 mb-2">
                        ${question.question}
                    </h2>
                    <p class="text-xl text-gray-800 leading-relaxed">
                        ${question.text}
                    </p>
                </div>

                <div class="space-y-3" id="optionsContainer">
                    ${question.options.map(option => `
                        <button
                            onclick="handleAnswer(${option.value})"
                            class="w-full p-4 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors duration-200 flex items-center justify-between group"
                        >
                            <span class="text-gray-700">${option.text}</span>
                            <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    `).join('')}
                </div>

                <div class="mt-6 grid md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <h4 class="font-semibold text-blue-800 mb-2 flex items-center">
                            <span class="mr-2">ğŸŒŸ</span>
                            ã€Œãã†æ€ã†ã€ã‚’é¸ã‚“ã å ´åˆã®ç¤¾ä¼š
                        </h4>
                        <div class="text-sm text-blue-700 space-y-2">
                            ${question.futureYes.map(scenario => `
                                <div class="bg-white bg-opacity-50 p-2 rounded">
                                    <span>${scenario}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                        <h4 class="font-semibold text-purple-800 mb-2 flex items-center">
                            <span class="mr-2">ğŸ”„</span>
                            ã€Œãã†æ€ã‚ãªã„ã€ã‚’é¸ã‚“ã å ´åˆã®ç¤¾ä¼š
                        </h4>
                        <div class="text-sm text-purple-700 space-y-2">
                            ${question.futureNo.map(scenario => `
                                <div class="bg-white bg-opacity-50 p-2 rounded">
                                    <span>${scenario}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // å›ç­”å‡¦ç†
        function handleAnswer(value) {
            answers[questions[currentQuestion].id] = value;
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                setTimeout(() => {
                    displayQuestion();
                }, 100);
            } else {
                setTimeout(() => {
                    showResults();
                }, 300);
            }
        }

        // ãƒãƒƒãƒãƒ³ã‚°è¨ˆç®—
        function calculateMatches() {
            const matches = {};
            
            Object.keys(parties).forEach(partyName => {
                const party = parties[partyName];
                let totalDifference = 0;
                let questionCount = 0;

                Object.keys(answers).forEach(questionId => {
                    if (party.positions[questionId] !== undefined) {
                        const difference = Math.abs(answers[questionId] - party.positions[questionId]);
                        totalDifference += difference;
                        questionCount++;
                    }
                });

                const averageDifference = totalDifference / questionCount;
                const matchPercentage = Math.max(0, 100 - (averageDifference * 25));
                matches[partyName] = Math.round(matchPercentage);
            });

            return Object.entries(matches)
                .sort(([,a], [,b]) => b - a)
                .map(([name, percentage]) => ({ name, percentage, party: parties[name] }));
        }

        // çµæœè¡¨ç¤º
        function showResults() {
            showScreen('resultsScreen');
            const results = calculateMatches();
            const resultsContent = document.getElementById('resultsContent');
            
            resultsContent.innerHTML = results.map((result, index) => `
                <div class="bg-white border rounded-lg p-6 shadow-sm fade-in">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <div class="w-4 h-4 rounded-full ${result.party.color} mr-3"></div>
                            <h3 class="text-xl font-semibold text-gray-800">
                                ${index === 0 ? 'ğŸ† ' : ''}
                                ${result.name}
                            </h3>
                        </div>
                        <div class="text-2xl font-bold text-blue-600">
                            ${result.percentage}%
                        </div>
                    </div>
                    
                    <div class="w-full bg-gray-200 rounded-full h-3 mb-3">
                        <div
                            class="h-3 rounded-full ${result.party.color}"
                            style="width: ${result.percentage}%"
                        ></div>
                    </div>
                    
                    <div class="text-gray-600 text-sm">
                        <p class="mb-1">å…šé¦–ï¼š${result.party.leader}</p>
                        <p>${result.party.description}</p>
                    </div>
                </div>
            `).join('');
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            showScreen('titleScreen');
        });
    </script>
</body>
</html>
